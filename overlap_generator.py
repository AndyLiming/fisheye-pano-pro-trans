import os
import numpy as np
import cv2
import torch
import torch.nn.functional as F

from fisheyeERP import KB4fisheye2ERP

#    ***0***
#   *       *
#  5         1
# *           *
#  4         2
#   *       *
#    ***3***

cam_info = {
    '0': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    },
    '1': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    },
    '2': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    },
    '3': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    },
    '4': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    },
    '5': {
        'intrinsics': [[1087.0488, 0., 1278.5], [0., 1100.6369, 719.5], [0, 0, 1]],
        'rotate': [[6.47411811e-03, -4.78886292e-01, 8.77853066e-01], [-9.99919934e-01, -1.26451039e-02, 4.76199078e-04],
                   [1.08724981e-02, -8.77785863e-01, -4.78929815e-01]],
        'position': [3.869104, 0.0359, 0.575223],
        'distortion': [0, 0, 0, 0],
        'hfov':
        135,
        'vfov':
        75
    }
}
